

@keyframes slideIn {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

.checkout-container {
  display: flex;
  flex-direction: column;
  height: 100vh; /* Ocupa a altura total da lateral */
  overflow: hidden; /* Evita scroll na borda externa */
}

.checkout-body {
  display: flex;
  flex-direction: column;
  flex: 1; /* Faz o corpo ocupar todo o espaço disponível */
  overflow-y: auto; /* Permite scroll apenas na lista de pagamentos se crescer muito */
}


.badge {
  background: #dcfce7;
  color: #166534;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: bold;
}



/* Seção de Pagamentos */
.payment-methods {
  padding: 1.5rem;
  border-right: none;
  border-bottom: 2px solid #e2e8f0;
}

/* Histórico de pagamentos adicionados */
.payment-history {
  list-style: none;
  padding: 0;
  margin: 1rem 0;
}

.payment-history li {
  display: flex;
  justify-content: space-between;
  padding: 8px;
  background: #f1f5f9;
  border-radius: 6px;
  margin-bottom: 5px;
  font-size: 0.9rem;
}

.totals-panel {
  margin-top: auto; /* Empurra o painel para o final do container */
  padding: 1.5rem;
  background: #f8fafc;
  border-top: 2px solid #e2e8f0; /* Linha sutil para separar dos pagamentos */
  
  /* Garante que o painel não encolha */
  flex-shrink: 0; 
  
  /* Opcional: fixar mesmo com scroll */
  position: sticky;
  bottom: 0;
  z-index: 10;
}

.method-grid {
  grid-template-columns: repeat(2, 1fr); /* 2 colunas para não apertar */
  gap: 8px;
}

.method-grid button {
  padding: 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  background: white;
  cursor: pointer;
  font-weight: 600;
}

.method-grid button.active {
  border-color: #2563eb;
  background: #eff6ff;
  color: #2563eb;
}

.add-payment {
  display: flex;
  gap: 10px;
}

.add-payment input {
  flex: 1;
  font-size: 1.5rem;
  padding: 0.8rem;
  border: 2px solid #cbd5e1;
  border-radius: 8px;
}


.total-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 1rem;
  font-size: 1.1rem;
}

.total-main {
  text-align: right;
  margin: 1.5rem 0;
}

.total-value {
  display: block;
  font-size: 2.8rem;
  font-weight: 900;
  color: #0f172a;
}

.status-box {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 2rem;
}

.status-item {
  padding: 1rem;
  border-radius: 8px;
  text-align: center;
}

.status-item.pending { background: #fee2e2; color: #991b1b; }
.status-item.paid { background: #dcfce7; color: #166534; }
.status-item.change { background: #fef9c3; color: #854d0e; }

.btn-confirm-sale {
  background: #10b981;
  color: white;
  border: none;
  padding: 1.5rem;
  font-size: 1.25rem;
  font-weight: bold;
  border-radius: 8px;
  cursor: pointer;

  width: 100%;
  margin-top: auto;
  padding: 1.2rem;
  position: sticky;
  bottom: 0;
  border-radius: 0; /* Ocupa a largura total na base */
}

.btn-confirm-sale:disabled {
  background: #cbd5e1;
  cursor: not-allowed;
}



.change-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #bbf7d0;
  padding-bottom: 0.5rem;
}

.rounding-alert {
  background: #166534;
  color: white;
  font-size: 0.65rem;
  padding: 4px 8px;
  border-radius: 20px;
  font-weight: bold;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.change-unit-pill {
  font-size: 0.7rem;
  padding: 4px;
  border: 1px solid #86efac;
  background: white;
  border-radius: 4px;
  text-align: center;
}


.discount-area {
  display: flex;
  flex-direction: column;
  gap: 8px;
  background: #f8fafc;
  padding: 12px;
  border-radius: 8px;
  margin-bottom: 1rem;
}

.discount-label {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.toggle-group {
  display: flex;
  background: #e2e8f0;
  padding: 2px;
  border-radius: 6px;
}

.toggle-group button {
  border: none;
  padding: 4px 12px;
  font-size: 0.75rem;
  font-weight: bold;
  border-radius: 4px;
  cursor: pointer;
  background: transparent;
  color: #64748b;
  transition: 0.2s;
}

.toggle-group button.active {
  background: white;
  color: #2563eb;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.discount-input-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.discount-input-wrapper input {
  width: 100%;
  padding: 10px;
  border: 2px solid #cbd5e1;
  border-radius: 6px;
  font-size: 1.1rem;
  font-weight: bold;
  text-align: right;
}

.discount-preview {
  position: absolute;
  left: 10px;
  font-size: 0.85rem;
  color: #ef4444;
  font-weight: 500;
}/* Estilo da área de desconto bloqueada */
.discount-area.locked {
  border: 2px solid #fee2e2;
  background: #fff1f2;
}

.lock-badge {
  background: #ef4444;
  color: white;
  font-size: 0.6rem;
  padding: 2px 6px;
  border-radius: 4px;
  font-weight: 900;
}

/* Grid de Moedas ajustado para largura menor */
.change-details-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
 /* 2 por linha na sidebar */
  gap: 5px;
  margin-top: 10px;
}

.btn-request-auth {
  position: absolute;
  left: 10px;
  background: #ef4444;
  color: white;
  border: none;
  padding: 4px 10px;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: bold;
  cursor: pointer;
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

/* MODAL DO GERENTE (Deve continuar centralizado na tela toda) */
.manager-lock-overlay {
  position: fixed;
  top: 0; left: 0; width: 100vw; height: 100vh;
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(4px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

.manager-lock-card {
  background: white;
  padding: 2.5rem;
  border-radius: 16px;
  text-align: center;
  width: 350px;
}

.manager-lock-card .icon { font-size: 3rem; display: block; margin-bottom: 1rem; }

.manager-lock-card input {
  width: 100%;
  padding: 1rem;
  margin: 1.5rem 0 1rem 0;
  font-size: 1.2rem;
  text-align: center;
  border: 2px solid #cbd5e1;
  border-radius: 8px;
}

.manager-lock-card button {
  width: 100%;
  padding: 1rem;
  background: #1e293b;
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
}



.checkout-container {
  display: flex;
  flex-direction: column;
  height: 100%; /* Ocupa a altura total do elemento pai */
  background: white;
}

/* O corpo divide o espaço entre pagamentos e totais */
.checkout-body {
  display: flex;
  flex-direction: column;
  flex: 1; /* Ocupa todo o espaço entre o header e o final da tela */
  overflow: hidden; /* Garante que o container pai não quebre */
}

/* SEÇÃO SUPERIOR (Pagamentos): Esta parte cresce e tem scroll */
.payment-methods {
  flex: 1; /* Faz esta parte ocupar o máximo de espaço possível */
  padding: 1.5rem;
  overflow-y: auto; /* Se houver muitos métodos de pagamento, o scroll aparece aqui */
  border-bottom: 2px solid #e2e8f0;
}

/* SEÇÃO INFERIOR (Totais): Fixada embaixo, cresce de baixo para cima */
.totals-panel {
  flex-shrink: 0; /* Impede que esta parte seja "esmagada" pela lista acima */
  background: #f8fafc;
  padding: 1.5rem;
  /* Não precisa de margin-top: auto pois o flex: 1 acima já empurra tudo */
}


/* Gatilho (Botão que abre) */
.accordion-trigger {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    background: #f1f5f9;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 600;
    color: #475569;
    margin-bottom: 5px;
    transition: background 0.2s;
}

.accordion-trigger:hover {
    background: #e2e8f0;
}

/* Container da Sanfona */
.coupon-and-discount {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-in-out, opacity 0.2s ease-in-out;
    opacity: 0;
    background: #fff;
    /* Importante: remover paddings/borders daqui para não quebrar a animação */
}

.coupon-and-discount.open {
    max-height: 500px; /* Valor alto o suficiente para o conteúdo */
    opacity: 1;
    margin-bottom: 1rem;
}

/* Wrapper interno para dar espaçamento sem quebrar a animação de altura */
.accordion-content {
  background-color: #fdd3a3;
    padding: 12px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Ajuste sutil na área de cupom para caber na lateral */
.coupon-area {
    display: flex;
    gap: 8px;
}

.coupon-area input {
    flex: 1;
    padding: 8px;
    border: 1px solid #cbd5e1;
    border-radius: 4px;
    font-size: 0.9rem;
}